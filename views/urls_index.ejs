<!DOCTYPE html>
<html lang="en">

<head>
  <%- include("partials/_head") %>
    <title>Tiny App</title>
</head>

</html>

<body>

  <%- include("partials/_header", { user }) %>

    <main style="margin: 1em;">
      <h3>My URLs</h3>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Short URL</th>
            <th scope="col">Long URL</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <% for(let url in urls) { %>
            <tr>
              <td>
                <%= url %>
              </td>
              <td>
                <%= urls[url].longURL %>
              </td>
              <td>
                <a class="btn btn-outline-secondary" href="/urls/<%= url %>" role="button">Edit</a>
              </td>
              <td>
                <form method="POST" action="/urls/<%= url %>?_method=DELETE">
                  <input type="submit" value="Delete" class="btn btn-outline-danger">
                </form>
              </td>
            </tr>
            <% } %>
        </tbody>
      </table>
      <% if (Object.keys(urls).length===0) { %>
        <div class="d-flex justify-content-center py-2">
          <div class="alert alert-info" role="alert">
            No URLs created yet. Click on "Create New URL" to start
          </div>
        </div>
        <% } %>
    </main>

    <%- include("partials/_bootstrap_js") %>

</body>